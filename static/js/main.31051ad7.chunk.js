(this["webpackJsonprebalancing-portfolio"]=this["webpackJsonprebalancing-portfolio"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(8),i=n.n(a),s=(n(14),n(2)),d=n(9),u=n(4),l=n(0),j=function(e){var t=e.data,n=e.handleChange,r=e.handleRemove,c=null;t.differenceBetweenShares>0?c=Object(l.jsxs)("span",{className:"text-danger",children:["(+",t.differenceBetweenShares,"%)"]}):t.differenceBetweenShares<0&&(c=Object(l.jsxs)("span",{className:"text-success",children:["(",t.differenceBetweenShares,"%)"]}));var a=null;return t.recommendation<=-1?a=Object(l.jsxs)("span",{className:"text-danger",children:["\u041f\u0440\u043e\u0434\u0430\u0442\u044c ",-t.recommendation,"\u0448\u0442"]}):t.recommendation>=1&&(a=Object(l.jsxs)("span",{className:"text-success",children:["\u041a\u0443\u043f\u0438\u0442\u044c ",t.recommendation,"\u0448\u0442"]})),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"text",className:"input",value:null===t||void 0===t?void 0:t.ticker,name:"ticker",onChange:n})}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"number",className:"input",min:"1",value:null===t||void 0===t?void 0:t.currentPrice,name:"currentPrice",onChange:n})}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"number",className:"input",min:"1",value:null===t||void 0===t?void 0:t.amount,name:"amount",onChange:n})}),Object(l.jsx)("td",{children:t.currentSum}),Object(l.jsxs)("td",{children:[t.currentShare," ",c]}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"number",className:"input",min:"1",max:"99",value:null===t||void 0===t?void 0:t.desiredShare,name:"desiredShare",onChange:n})}),Object(l.jsx)("td",{children:a}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{className:"btn btn-danger",onClick:r,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})},o=function(e){var t=e.tableData,n=e.total,r=e.addTicker,c=e.updateTicker,a=e.removeTicker,i=t.map((function(e,t){return Object(l.jsx)(j,{data:e,handleChange:function(e){return c(e.target.value,e.target.name,t)},handleRemove:function(){return a(t)}},t)}));return Object(l.jsxs)("div",{className:"rebalance-table card",children:[Object(l.jsxs)("table",{className:"table mb",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"\u0422\u0438\u043a\u0435\u0440"}),Object(l.jsx)("th",{children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0446\u0435\u043d\u0430 \u0437\u0430 1 \u0448\u0442. (\u0440\u0443\u0431.)"}),Object(l.jsx)("th",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0448\u0442.)"}),Object(l.jsx)("th",{children:"\u0421\u0443\u043c\u043c\u0430 (\u0440\u0443\u0431.)"}),Object(l.jsx)("th",{children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0434\u043e\u043b\u044f (%)"}),Object(l.jsx)("th",{children:"\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u0434\u043e\u043b\u044f (%)"}),Object(l.jsx)("th",{children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f"}),Object(l.jsx)("th",{})]})}),Object(l.jsx)("tbody",{children:i}),Object(l.jsx)("tfoot",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{}),Object(l.jsx)("td",{}),Object(l.jsx)("td",{}),Object(l.jsx)("td",{children:n.currentSum}),Object(l.jsx)("td",{children:"100"}),Object(l.jsx)("td",{children:n.desiredShare}),Object(l.jsx)("td",{}),Object(l.jsx)("td",{})]})})]}),Object(l.jsx)("button",{className:"btn",onClick:r,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043a\u0435\u0440"})]})},h=n(5),b=function(e){var t=e.options,n=e.handleChangeOptions,r=function(e){var r=Object(s.a)(Object(s.a)({},t),{},Object(h.a)({},e.target.name,"number"===e.target.type?+e.target.value:e.target.value));n(r)};return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsxs)("label",{className:"label mb",children:["\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:",Object(l.jsx)("select",{className:"input",name:"type",value:null===t||void 0===t?void 0:t.type,onChange:r,children:Object(l.jsx)("option",{value:"1",children:"\u0420\u0435\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u043a\u0430"})})]}),Object(l.jsxs)("label",{className:"label",children:["\u0421\u0443\u043c\u043c\u0430 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f:",Object(l.jsx)("input",{type:"number",className:"input",name:"replenishment",value:(null===t||void 0===t?void 0:t.replenishment)||0,onChange:r}),"(\u0440\u0443\u0431.)"]})]})},m=(n(16),function(e){var t=e.message;return Object(l.jsx)("div",{className:"alert danger",children:t})}),O=function(e){var t=e.messages;if(!t||0===t.length)return null;var n=t.map((function(e){return Object(l.jsx)(m,{message:e})}));return Object(l.jsx)("div",{className:"alerts",children:n})},x=function(){var e={currentPrice:0,amount:0,currentSum:0,currentShare:0,desiredShare:0,differenceBetweenShares:0,requiredSum:0,recommendation:0},t={currentSum:0,desiredShare:0},n=Object(r.useState)(),c=Object(u.a)(n,2),a=c[0],i=c[1],j=Object(r.useState)([e]),h=Object(u.a)(j,2),m=h[0],x=h[1],v=Object(r.useState)(t),p=Object(u.a)(v,2),S=p[0],f=p[1],g=Object(r.useState)([]),N=Object(u.a)(g,2),k=N[0],C=N[1],y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=w(e);x(e.map((function(e){return e.currentShare=(null===e||void 0===e?void 0:e.currentSum)&&(null===n||void 0===n?void 0:n.currentSum)?+(e.currentSum/n.currentSum*100).toFixed(1):0,e.differenceBetweenShares=e.desiredShare?+(e.desiredShare-e.currentShare).toFixed(1):null,e.requiredSum=e.desiredShare?+(e.desiredShare/100*(n.currentSum+(null===t||void 0===t?void 0:t.replenishment))).toFixed(1):null,e.recommendation=Math.floor((e.requiredSum-e.currentSum)/e.currentPrice),e}))),B(e,n)},w=function(e){var n=e.reduce((function(e,t){return e.desiredShare=e.desiredShare+ +t.desiredShare,e.currentSum=e.currentSum+t.currentSum,e}),t);return f(n),n},B=function(e,t){var n=[];t.desiredShare>100&&n.push("\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u0434\u043e\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0435 100%"),C(n)};return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("div",{className:"mb",children:Object(l.jsx)("h1",{children:"\u0420\u0435\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044f"})}),Object(l.jsx)(b,{options:a,handleChangeOptions:function(e){i(e),y(m,e)}}),Object(l.jsx)(O,{messages:k}),Object(l.jsx)(o,{tableData:m,total:S,addTicker:function(){y([].concat(Object(d.a)(m),[Object(s.a)({},e)]))},updateTicker:function(e,t,n){y(m.map((function(r,c){return c===n&&(r[t]=e),r.currentSum=(null===r||void 0===r?void 0:r.currentPrice)&&(null===r||void 0===r?void 0:r.amount)?r.currentPrice*r.amount:0,r})))},removeTicker:function(e){y(m.filter((function(t,n){return e!==n})))}})]})};var v=function(){return Object(l.jsx)(x,{})};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.31051ad7.chunk.js.map